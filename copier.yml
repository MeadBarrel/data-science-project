_min_copier_version: "9.0.0"
_answers_file: .copier-answers.yml
_subdirectory: template
_exclude:
  - ".copierignore"
_templates_suffix: .jinja

author:
  type: str
  default: "Switchbox"
  help: Your full name

email:
  type: str
  default: "hello@switch.box"
  help: Your email address

author_github_handle:
  type: str
  default: "switchbox-data"
  help: Your GitHub handle (without @)

project_description:
  type: str
  default: "This is a repository for modern data science projects."

project_features:
  type: str
  multiselect: true
  choices:
    - python_data_science
    - python_package
    - r_data_science
  default: [python_data_science ]
  help: "Select project features (use space to select/deselect, enter to confirm)"

use_github:
  type: bool
  default: true
  help: Include GitHub Actions and issue templates

open_source_license:
  type: str
  choices:
    - "MIT license"
    - "BSD license"
    - "ISC license"
    - "Apache Software License 2.0"
    - "GNU General Public License v3"
    - "Not open source"
  default: "MIT license"

aws:
  type: bool
  default: true

# Computed variables
python:
  type: bool
  default: "{{ 'python_data_science' in project_features or 'python_package' in project_features }}"
  when: false

# Backward compatibility computed variables
python_data_science:
  type: bool
  default: "{{ 'python_data_science' in project_features }}"
  when: false

python_package:
  type: bool
  default: "{{ 'python_package' in project_features }}"
  when: false

r_data_science:
  type: bool
  default: "{{ 'r_data_science' in project_features }}"
  when: false

# Directory name computed from destination path  
project_name:
  type: str
  default: "{{ _copier_conf.dst_path.name }}"
  when: false

project_slug:
  type: str
  default: "{{ project_name|lower|replace('-', '_') }}"
  when: false

# Post-generation tasks
_tasks:
  - command: git init
    description: "üîß Initialize git repository"
  - command: git add .
    description: "üìÅ Add all files to git staging"
  - command: git commit -m "üéâ Initial commit from copier template"
    description: "üíæ Create initial commit"
